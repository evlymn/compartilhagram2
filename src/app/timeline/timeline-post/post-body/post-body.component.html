<div class="post-body" *ngIf="post" [ngClass]="isRepost ? 'post-body-background-repost' : '' ">
  <div class="post-text-edit"  *ngIf="post?.postText">
    <div class="post-text" [routerLink]="['/home/post', post?.id, index]">
      {{post?.postText}}
    </div>
  </div>


  <mat-expansion-panel
    hideToggle [expanded]="postPanelOpened && !isRepost"
    (afterExpand)="onExpansionPostOpen()"
    (afterCollapse)="onExpansionPostClose()">
       <textarea cdkTextareaAutosize [(ngModel)]="postText"
                 maxlength="300"></textarea>
    <div class="panel-post-actions">
      <button (click)="togglePostPanel()" mat-button class="form-button form-button-post">
        cancelar
      </button>
      <div></div>
      <button (click)="editPost()" mat-button class="form-button form-button-post">
        editar
      </button>
    </div>
  </mat-expansion-panel>
</div>

<mat-expansion-panel class="panel-delete" hideToggle [expanded]="deletePanelOpened  && !isRepost"
                     (afterExpand)="onExpansionDeleteOpen()">

  <button (click)="toggleDeletePanel()" class="button-expansion button-warning" mat-button>
    cancelar
  </button>
  <button class="button-expansion button-warning" (click)="deletePost()" mat-button>
    deletar?
  </button>

</mat-expansion-panel>

<div *ngIf="post?.repost" class="repost">
  <ng-container *ngIf="!post.repostDeleted">
    <app-timeline-post
      [isRepost]="true"
      [index]="index"
      [post]="post.repost">
    </app-timeline-post>
  </ng-container>

  <ng-container *ngIf="post.repostDeleted">
    <div>
      <h2>
        {{timelineService.languageService.getText('postagemdeletada')}}</h2>
    </div>
  </ng-container>

</div>


<div [style]="isDetail? 'margin-top:5px': ''"></div>
<app-post-images-grid *ngIf="!isDetail" [post]="post" [postId]="post?.id" [postIndex]="index"

                      [images]="post?.images"></app-post-images-grid>

<div class="image-details" *ngIf="isDetail">
  <img (click)="showImageDialog(img?.imageURL)" *ngFor="let img of post?.images; let i=index"
       [src]="img?.imageURL"
       class="d-block w-100" alt="...">
</div>






<ng-container  *ngIf="post?.albumName || !isRepost">
<div class="post-album-time">
  <div>
<!--    <span *ngIf="post?.albumName">álbum:</span>-->
    <mat-chip *ngIf="post?.albumName" [routerLink]="['album', post?.albumId, post?.uid ]"> {{ post?.albumName }}</mat-chip>
  </div>

  <div class="timeago" *ngIf="!isRepost">
    <small *ngIf="!isExchangeagram">
      há {{post.dateTime | timeAgo }}
    </small>
    <small *ngIf="isExchangeagram">
      {{post.dateTime | timeAgo }} ago
    </small>
  </div>
</div>
</ng-container>
